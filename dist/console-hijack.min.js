!function(){"use strict";function n(n,o){if(t){var r=new CustomEvent(n,{detail:o});document.dispatchEvent(r)}else e.emit(n,o)}!function(e,t,o){var r=["any"].concat(e),i=0;e.forEach(function(e){var c=!0,f=t[e],a=null,u=0,s=o+"."+e,l=function(){for(var t=[],o=arguments.length;o--;)t[o]=arguments[o];if(c){if(r.indexOf(e)>=i){if(JSON.stringify(t)==JSON.stringify(a)?u++:u=0,a=t,!(u<10))throw new Error("Infinte recursion detected for ",s);f(t),n(s,{type:s,messages:t})}}else f(t)};l.native=f,l.restore=function(){c=!1},l.hijack=function(){c=!0},t[e]=l}),t.LOG_LEVELS={},r.forEach(function(n){t.LOG_LEVELS[n.toUpperCase()]=n}),t.restoreAll=function(){e.forEach(function(n){t[n].restore()})},t.hijackAll=function(){e.forEach(function(n){t[n].hijack()})},Object.defineProperty(t,"LOG_LEVEL",{get:function(){return r[i]},set:function(n){var e=n.toString().toLowerCase(),t=r.indexOf(e);t>-1&&(i=t)},enumerable:!0,configurable:!0})}(["log","info","warn","error"],console,"console");var e,t=window&&document;if(!t){var o=require("events");e=new o.EventEmitter}}();
